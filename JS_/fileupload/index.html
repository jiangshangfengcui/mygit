<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<input type="file" name="" multiple="multiple" id="piliang">
	<div><img src="" alt="" id="img1"></div>
	<script>
		function readFile(file,element) {
			//        新建阅读器
			var reader = new FileReader();console.log(reader);
			//        根据文件类型选择阅读方式
			switch (file.type){
				case 'image/jpg':
				case 'image/png':
				case 'image/jpeg':
				case 'image/gif':
				reader.readAsDataURL(file);
				break;
			}
			// document.getElementById('img1').src = reader.result;
			reader.addEventListener('load',function () {
			//         如果说让读取的文件显示的话 还是需要通过文件的类型创建不同的标签
			switch (file.type){
			    case 'image/jpg':
			    case 'image/png':
			    case 'image/jpeg':
			    case 'image/gif':
			    var img = document.createElement('img');
			    img.src = reader.result;
			    document.body.insertBefore(img, piliang);
			    // element.append(img);
			    // element.siblings(".addhao").hide();
			    // element.show();
			    break;
			   }
			});
		}

		var piliang = document.querySelector('#piliang');
		piliang.addEventListener('change', function () {
			for (var i = 0;i < this.files.length;i++){
				var file = this.files[i];console.log(file);
				readFile(file);
			}
		})
	</script>
</body>
</html>